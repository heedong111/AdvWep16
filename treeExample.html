ithu<HTML>

<HEAD>

    <SCRIPT LANGUAGE="JavaScript">

<!--

// F. Permadi 2005.

// (C) F. Permadi

// Print DOM tree

////////////////////////////////////////////

// This function traverses the DOM tree of an element and prints the tree.

// This function called recursively until the DOM tree is fully traversed.

//

// Parameters:

// - targetDocument : 트리가 프린트될 곳.

// - currentElement : 현재 처리중인 엘리먼트

// - depth : 현재 엘리먼트 깊이

//   (엘리먼트 하나당 1)

////////////////////////////////////////////

function traverseDOMTree(targetDocument, currentElement, depth)
{
  var maxDepth=0;
  if (currentElement)
  {
    var j;
    var tagName=currentElement.tagName;

    // 여는 태그 작성

    if (tagName){
      //targetDocument.writeln("&nbsp;&nbsp;");
      targetDocument.writeln("<li><a href='#'>&lt;"+currentElement.tagName+"&gt;<ul>");
    }
    else  {
      //targetDocument.writeln("[unknown tag]" + currentElement.nodeName + n.nodeValue);
      if ( currentElement.nodeValue != null )
        targetDocument.writeln("<li>"+currentElement.nodeValue+"</li>"); // + currentElement.nodeValue.length);
      else
        targetDocument.writeln("null");
    }

    // 트리 그리기
    var i=0;
    var currentElementChild=currentElement.childNodes[i];

    while (currentElementChild)
    {
      // Formatting code (indent the tree so it looks nice on the screen)
      //targetDocument.write("<br>\n");
      //for (j=0; j<depth; j++)
      //{
        // 엘리먼트 깊이 버티컬 라인
        //targetDocument.write("-");
      //}
     // for (j=0; j<depth; j++)
      //{
        //엘리먼트 깊이 버티컬 라인
        //targetDocument.write("&nbsp;&nbsp;");
     // }
      /*targetDocument.writeln("<BR>");
      for (j=0; j<depth; j++)
      {
        targetDocument.write("&nbsp;&nbsp;");
      }	*/

      //태그이름을 만나면 그을 선
      //if (tagName){
      //  targetDocument.write(currentElement.tagName);
      //}

      // 자식노드 유무 검사
        if ( currentElementChild.tagName || (currentElementChild.nodeValue.length > 1)){
            traverseDOMTree(targetDocument, currentElementChild, depth+1);
        }
        i++;
        if(maxDepth<depth) maxDepth++;
      currentElementChild=currentElement.childNodes[i];
    }

   // 닫는 태그 작성
   //targetDocument.write("</ul>");
   /* for (j=0; j<depth-1; j++)
    {
      targetDocument.write("&nbsp;&nbsp;&#166");
    }
    targetDocument.writeln("&nbsp;&nbsp;");*/
    if (tagName)
        targetDocument.writeln("</li>");
    else
        targetDocument.writeln("</ul>");
  }
}

////////////////////////////////////////////

// This function accepts a DOM element as parameter and prints

// out the DOM tree structure of the element.

////////////////////////////////////////////

function printDOMTree(domElement, destinationWindow)
{
  // Use destination window to print the tree.  If destinationWIndow is
  //   not specified, create a new window and print the tree into that window
  var outputWindow=destinationWindow;
  if (!outputWindow)
    outputWindow=window.open();

  // make a valid html page
  outputWindow.document.open("text/html", "replace");
  outputWindow.document.write("<HTML><HEAD><TITLE>DOM</TITLE><style>.list { margin: 0; padding: 0; }.list a {color: black;display: block;padding: 10px 20px;text-decoration: none;}</style><script src='http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js'></SCRIPT>\n");
  outputWindow.document.write("<script>$(function(){$('.list li').hover(function(){$('ul:first',this).show();},function(){$('ul:first',this).hide();});$('.list>li:has(ul)>a').each( function(){$(this).html( $(this).html()+' &or;' );});$('.list ul li:has(ul)').find('a:first').append('<p style=float:right;margin:-3px>&#9656;</p>');});</script></HEAD><BODY><CODE><ul class='list'>\n");
  traverseDOMTree(outputWindow.document, domElement, 1);
  outputWindow.document.write("</ul></ul></ul></CODE>");
  outputWindow.document.write("</BODY></HTML>\n");
  // Here we must close the document object, otherwise Mozilla browsers 
  //   might keep showing "loading in progress" state.
  outputWindow.document.close();
}



//-->
</SCRIPT>
</HEAD>
<BODY onload="printDOMTree(document.getElementsByTagName('BODY')[0])">
<DIV>
<H1>h1</H1>
<P>Paragraph</P>
</DIV></BODY>
</HTML>
